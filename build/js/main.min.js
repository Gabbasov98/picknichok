$(document).ready(function() {

    checkSelectedCart()

    function checkSelectedCart() {
        let checkedCartArray = []

        $(".cart-card__check input").each((i, el) => {
            checkedCartArray.push($(el).prop("checked"))
        })

        if (checkedCartArray.indexOf(false) === -1) {
            return true
        }

        return false

    }

    $(".cart-card__check input").change(() => {
        if (checkSelectedCart()) {
            $(".cart__all input").prop("checked", true)
        } else {
            $(".cart__all input").prop("checked", false)
        }
    })

    $(".cart__all input").change(function() {
        let checked = $(this).prop("checked")
        $(".cart-card__check input").each((i, el) => {
            if (checked) {
                $(el).prop("checked", true)
            } else {
                $(el).prop("checked", false)
            }
        })
    })

    $(".cart-card__calc .ccalc-minus").click(function() {
        let inputVal = +$(this).siblings("input").val()

        if (inputVal === 1) {
            $(this).parents(".cart-card").fadeOut()
            setTimeout(() => {
                $(this).parents(".cart-card").remove()
            }, 2000);
        }
    })

    $(".cart-card__delete").click(function() {
        $(this).parents(".cart-card").fadeOut()
        setTimeout(() => {
            $(this).parents(".cart-card").remove()
        }, 2000);
    })




})
function gallery() {
    var swiper = new Swiper(".gallery .mySwiper", {
        spaceBetween: 10,
        slidesPerView: 4,
        direction: "vertical",
        freeMode: true,
        watchSlidesProgress: true,
    });
    var swiper2 = new Swiper(".gallery .mySwiper2", {
        spaceBetween: 10,
        thumbs: {
            swiper: swiper,
        },
        pagination: {
            el: '.gallery .swiper-pagination',
            type: 'bullets',
            clickable: true,
        },
    });
}

function collectionSlider() {
    var swiper = new Swiper('.collection .swiper-container', {
        slidesPerView: 4,
        spaceBetween: 30,
        watchSlidesProgress: true,
        preventClicks :true,
        a11y: false,
        observer: true,
        observeParents: true,
        observeSlideChildren: true,
        noSwipingSelector: "button",
        navigation: {
            nextEl: '.collection .swiper-button-next',
            prevEl: '.collection .swiper-button-prev',
        },
        pagination: {
            el: '.collection .swiper-pagination',
            type: 'bullets',
            clickable: true,
        },
        breakpoints: {
            320: {
                slidesPerView: 2,
                spaceBetween: 20,
            },
            500: {
                slidesPerView: 3,
                spaceBetween: 20,
            },
            600: {
                slidesPerView: 2,
            },
            992: {
                slidesPerView: 3,
            },
            1150: {
                slidesPerView: 4,
            },
        }
    })
}

$(document).ready(function() {
    gallery()
    collectionSlider()

    $(".catalog-item__tab").click(function() {
        $(".catalog-item__tab").removeClass("catalog-item__tab--active")
        $(this).addClass("catalog-item__tab--active")

        if ($(this).hasClass("catalog-item__tab--desc")) {
            $(".catalog-item__props").hide()
            $(".catalog-item__desc").show()
        } else {
            $(".catalog-item__desc").hide()
            $(".catalog-item__props").show()
        }
    })

    $(".catalog-item__cart").click(function() {
        $(this).toggleClass("catalog-item__cart--active")
    })

    $(".catalog-item__calc .ccalc-minus").click(function() {
        let inputVal = +$(this).siblings("input").val()

        if (inputVal === 1) {
            $(".catalog-item__cart").removeClass("catalog-item__cart--active")
        }
    })


    $(".contacts-select select").change(function() {
        let path = $(this).find("option:selected").attr("data-tab-path")
            // let text = $(this).html()
        console.log(path);



        $(".contacts__group").removeClass("contacts__group--active")
        $(`.contacts__group[data-tab-path="${path}"]`).addClass("contacts__group--active")
    })



})

$(document).ready(function() {

    const rangeSlider = document.getElementById("range")
    const rangeInput0 = document.getElementById("range-input1")
    const rangeInput1 = document.getElementById("range-input2")
    const rangeInputs = [rangeInput0, rangeInput1]
    if (rangeSlider) {
        noUiSlider.create(rangeSlider, {
            start: [0, +$(rangeInput1).attr("max")],
            connect: true,
            step: 1,
            range: {
                'min': 0,
                'max': +$(rangeInput1).attr("max")
            }
        });
    }
    if (rangeSlider) {
        rangeSlider.noUiSlider.on('update', function(values, handle) {
            rangeInputs[handle].value = Math.round(values[handle])
        })
        rangeInputs.forEach((el, index) => {
            el.addEventListener('change', (e) => {
                setRangeSlider(index, e.currentTarget.value)
            })
        })
    }


    const setRangeSlider = (i, value) => {
        let array = [null, null];
        array[i] = value;

        rangeSlider.noUiSlider.set(array);
    };


    $(".selected-filters__item button").click(function() {
        $(this).parents(".selected-filters__item").remove()
        let numOfSelectedFilters = $(".selected-filters__item").length

        console.log(numOfSelectedFilters);
        if (numOfSelectedFilters === 0) {
            $(".selected-filters__all").remove()
        }
    })

    $(".selected-filters__all button").click(function() {
        $(".selected-filters__item").remove()
        $(".selected-filters__all").remove()
    })

    $(".catalog-card__favourite").click(function() {
        $(this).toggleClass("catalog-card__favourite--active")
    })


    $(".catalog-card__btn").click(function() {
        let alert = `
        <div class="added-badge">
            <div class="added-badge__wrap">
                <img src="img/check2.png" alt="">
                <span>Товар добавлен в корзину</span>
            </div>
        </div>
        `
        $("body").append(alert)
        $(".added-badge").fadeIn()

        setTimeout(() => {
            $(".added-badge").remove()
        }, 3000);

        $(this).hide()
        $(this).siblings(".catalog-card__calc").addClass("catalog-card__calc--active")
    })

    $(".catalog-card__calc .ccalc-minus").click(function() {
        let inputVal = +$(this).siblings("input").val()

        if (inputVal === 1) {
            $(this).parent(".catalog-card__calc").removeClass("catalog-card__calc--active")
            $(this).parent(".catalog-card__calc").siblings(".catalog-card__btn").show()
        }
    })

    $(".catalog-page__filter-btn").click(function() {
        $("body").addClass("fixed-body")
        $(".filter").addClass("filter--active")
    })

    $(".filter__close").click(function() {
        $("body").removeClass("fixed-body")
        $(".filter").removeClass("filter--active")
    })

    $(".filter__btn").click(function() {
        $(".filter").removeClass("filter--active")
    })

})
function sliderWork() {
    var swiper = new Swiper('.our-work .swiper', {
        slidesPerView: 3,
        spaceBetween: 35,
        navigation: {
            nextEl: ' .our-work .swiper-button-next',
            prevEl: ' .our-work .swiper-button-prev',
        },
        pagination: {
            el: ".our-work .swiper-pagination",
            type: 'bullets',
            clickable: true,
        },
        breakpoints: {
            320: {
                slidesPerView: 1,
                spaceBetween: 12
            },
            576: {
                slidesPerView: 1,
                spaceBetween: 25,
            },
            992: {
                slidesPerView: 3,
                spaceBetween: 35,
            }
        }
    })
}


function sliderProduction() {
    var swiper = new Swiper('.production .swiper', {
        slidesPerView: 3,
        spaceBetween: 35,
        navigation: {
            nextEl: ' .production .swiper-button-next',
            prevEl: ' .production .swiper-button-prev',
        },
        pagination: {
            el: ".production .swiper-pagination",
            type: 'bullets',
            clickable: true,
        },
        breakpoints: {
            320: {
                slidesPerView: 1,
                spaceBetween: 12
            },
            576: {
                slidesPerView: 1,
                spaceBetween: 25,
            },
            992: {
                slidesPerView: 3,
                spaceBetween: 35,
            }
        }
    })
}


function sliderCertificates() {
    var swiper = new Swiper('.certificates .swiper', {
        slidesPerView: 4,
        spaceBetween: 55,
        navigation: {
            nextEl: '.certificates .swiper-button-next',
            prevEl: '.certificates .swiper-button-prev',
        },
        pagination: {
            el: ".certificates .swiper-pagination",
            type: 'bullets',
            clickable: true,
        },
        breakpoints: {
            320: {
                slidesPerView: 1,
                spaceBetween: 12
            },
            768: {
                slidesPerView: 2,
                spaceBetween: 25,
            },
            992: {
                slidesPerView: 3,
            },
            1050: {
                slidesPerView: 4,
            }
        }
    })
}


sliderWork()
sliderProduction()
sliderCertificates()
$(".scroll-up").click(function() {
    $("body,html").scrollTop(0);
})
isScrollUoBtnVisible()
$(window).scroll(function() {
    isScrollUoBtnVisible()
})

function isScrollUoBtnVisible() {
    if ($(window).scrollTop() > 100) {
        $(".scroll-up").addClass("scroll-up--active")
    } else {
        $(".scroll-up").removeClass("scroll-up--active")
    }
}

function reviewsSlider() {
    var swiper = new Swiper('.reviews-slider .swiper-container', {
        slidesPerView: "auto",
        spaceBetween: 0,
        navigation: {
            nextEl: '.reviews-slider .swiper-button-next',
            prevEl: '.reviews-slider .swiper-button-prev',
        },
    })
}

reviewsSlider()

$(".cookie-modal__btn").click(function () {
    $(".cookie-modal").removeClass("_active")
})


function mainSlider() {
    var swiper = new Swiper('.main .swiper-container', {
        slidesPerView: 1,
        spaceBetween: 10,
        autoplay: true,
        loop: true,
        navigation: {
            nextEl: '.main .swiper-button-next',
            prevEl: '.main .swiper-button-prev',
        },
        pagination: {
            el: '.main .swiper-pagination',
            type: 'bullets',
            clickable: true,
        },
    })
}
$(document).ready(function() {
    $('input[type="tel"]').mask('+7 999 999-9999', { autoclear: false }, { placeholder: '+7             ' });
    cartCalc()
    mainSlider()

    $(".header__catalog-btn").click(function() {
        $(this).toggleClass("header__catalog-btn--active")
        if (innerWidth > 992) {
            $(".header__catalog").append(`<div class="header__catalog-bg"></div>`)
        } else {
            $(".header__catalog-dropdown").slideToggle()
        }
        $(".header__catalog-bg").click(function() {
            $(".header__catalog-btn").removeClass("header__catalog-btn--active")
            $(".header__catalog-bg").remove()
        })
    })


    $(".header__burger").click(function() {
        $(this).toggleClass("header__burger--active")
        $("body").toggleClass("fixed-body")
        $(".header__menu").toggleClass("header__menu--active")
    })




});

function cartCalc() {
    $('.cartcalc .ccalc-minus').click(function() {
        let a = $(this).closest('.cartcalc').find('input').val();
        if (a > 1) {
            let b = +a - 1;
            $(this).closest('.cartcalc').find('input').val(b);
        } else {
            $(this).closest('.cartcalc').find('input').val(a);
        }
    });
    $('.cartcalc .ccalc-plus').click(function() {
        let a = $(this).closest('.cartcalc').find('input').val();
        let b = +a + 1;
        $(this).closest('.cartcalc').find('input').val(b);
    });
}

//# sourceMappingURL=../sourcemaps/main.min.js.map
